DROP DATABASE IF EXISTS `ERP_OPTICA`;
CREATE DATABASE IF NOT EXISTS `ERP_OPTICA`;
USE `ERP_OPTICA`;

# TABLES

CREATE TABLE IF NOT EXISTS DATABASE_PARAMETERS (
	PARAMETERID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    PARAMETERNAME VARCHAR(500) NOT NULL UNIQUE,
    PARAMETERVALUE TEXT NOT NULL,
    CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP,
    UPDATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

CREATE TABLE IF NOT EXISTS `ENTERPRISE` (
	`ENTERPRISEID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `NAME` VARCHAR (200) NOT NULL UNIQUE,
    `DELETED_AT` DATETIME
);

CREATE TABLE IF NOT EXISTS `PERSON` (
	`PERSONID` BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `NAME` VARCHAR(500) NOT NULL,
    `PERSONTYPE` INT(3) NOT NULL,
    `CALLNAME` VARCHAR(500),
    `CREATEDATE` DATETIME,
    `DELETED_AT` DATETIME,
  	`ENTERPRISEID` INT NOT NULL,
    
    FOREIGN KEY (`ENTERPRISEID`) REFERENCES `ENTERPRISE`(`ENTERPRISEID`)
);

CREATE TABLE IF NOT EXISTS `CREDENTIAL` (
	`CREDENTIALID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `PERSONID` BIGINT NOT NULL,
    `DELETED_AT` DATETIME,
    
    FOREIGN KEY (`PERSONID`) REFERENCES `PERSON` (`PERSONID`)
);

CREATE TABLE IF NOT EXISTS `AUTH` (
	`AUTHID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `NAME` TEXT NOT NULL, # SHA512
    `PASSPHRASE` TEXT NOT NULL, # DERIVATION KEY PBKDF2
    `CREDENTIALID` INT NOT NULL,
	`DELETED_AT` DATETIME,

    FOREIGN KEY (`CREDENTIALID`) REFERENCES `CREDENTIAL` (`CREDENTIALID`)
);

CREATE TABLE IF NOT EXISTS `PAPER` (
	`PAPERID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `NAME` VARCHAR(500) NOT NULL,
    `ACTIVATED` TINYINT DEFAULT 0, 
    `DELETED_AT` DATETIME
);

CREATE TABLE `CONTROL` (
  `DMLTYPEID` INT NOT NULL,
  `ENTITYTYPEID` INT NOT NULL,
  `ENTITYID` INT NOT NULL,
  `USERID` INT NOT NULL,
  `CONTROLDATE` DATETIME DEFAULT CURRENT_TIMESTAMP,
  `ENTERPRISEID` INT NOT NULL,

  FOREIGN KEY (`USERID`) REFERENCES `AUTH`(`AUTHID`),
  FOREIGN KEY (`ENTERPRISEID`) REFERENCES `ENTERPRISE`(`ENTERPRISEID`)
);

CREATE TABLE IF NOT EXISTS `CODE` (
	`CODEID` BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `AUTHID` INT NOT NULL,
    `CODE` VARCHAR(6),
    `CODETYPE` INT NOT NULL,
    `EXPIRE_IN` DATETIME
);

CREATE TABLE IF NOT EXISTS `ENTERPRISEXPERSON` (
	`ENTERPRISEID` INT NOT NULL,
    `PERSONID` BIGINT NOT NULL,
    
    FOREIGN KEY (`ENTERPRISEID`) REFERENCES `ENTERPRISE`(`ENTERPRISEID`),
    FOREIGN KEY (`PERSONID`) REFERENCES `PERSON`(`PERSONID`)
);

CREATE TABLE IF NOT EXISTS `AUTHXENTERPRISE` (
	`AUTHID` INT NOT NULL,
    `ENTERPRISEID` INT NOT NULL,
    `DELETED_AT` DATETIME,
    
    FOREIGN KEY (`AUTHID`) REFERENCES `AUTH`(`AUTHID`),
    FOREIGN KEY (`ENTERPRISEID`) REFERENCES `ENTERPRISE`(`ENTERPRISEID`)    
);

CREATE TABLE IF NOT EXISTS `PERMISSION` (
	`PERMISSIONID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `PERMISSIONNAME` VARCHAR(500) NOT NULL UNIQUE,
    `DELETED_AT` DATETIME
);

CREATE TABLE IF NOT EXISTS `AUTHXPAPER` (
	`AUTHID` INT NOT NULL,
    `PAPERID` INT NOT NULL,
    `DELETED_AT` DATETIME,
    
    FOREIGN KEY (`AUTHID`) REFERENCES `AUTH`(`AUTHID`),
    FOREIGN KEY (`PAPERID`) REFERENCES `PAPER`(`PAPERID`)    
);

CREATE TABLE IF NOT EXISTS `PAPERXPERMISSION` (
    `PAPERID` INT NOT NULL,
	`PERMISSIONID` INT NOT NULL,
    
    FOREIGN KEY (`PERMISSIONID`) REFERENCES `PERMISSION`(`PERMISSIONID`),
    FOREIGN KEY (`PAPERID`) REFERENCES `PAPER`(`PAPERID`)    
);

CREATE TABLE IF NOT EXISTS `PERSONDOCUMENT` (
	`DOCUMENTID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `DOCUMENTTYPE` INT NOT NULL,
    `PERSONID` BIGINT NOT NULL,
    `VALUE` TEXT NOT NULL,
    
    FOREIGN KEY (`PERSONID`) REFERENCES `PERSON`(`PERSONID`)
);

CREATE TABLE IF NOT EXISTS `PERSONCONTACT` (
	`CONTACTID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `CONTACTTYPE` INT NOT NULL,
    `PERSONID` BIGINT NOT NULL,
    `VALUE` TEXT NOT NULL,

    FOREIGN KEY (`PERSONID`) REFERENCES `PERSON`(`PERSONID`)
);

CREATE TABLE IF NOT EXISTS `PERSONADDRESS` (
	`ADDRESSID` INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
    `ADDRESSTYPE` INT NOT NULL,
    `PERSONID` BIGINT NOT NULL,
    `VALUE` TEXT NOT NULL,

    FOREIGN KEY (`PERSONID`) REFERENCES `PERSON`(`PERSONID`)
);

# END TABLES;

# PROCEDURES

DELIMITER $$

CREATE PROCEDURE GET_INTERVAL_SECCONDS_TO_CODE (OUT SECCONDS INT) 

BEGIN
	DECLARE _SECCONDS INT;
	SELECT CAST(DBP.PARAMETERVALUE AS UNSIGNED INT) INTO _SECCONDS
    FROM DATABASE_PARAMETERS DBP 
    WHERE DBP.PARAMETERNAME = 'CODE_TABLE_INTERVAL_EXPIRE' LIMIT 1;
    
	SET SECCONDS = _SECCONDS;
END;

CREATE PROCEDURE GET_CODE_AND_EXPIRETIME_TO_TABLE_CODE (OUT CODE INT, OUT EXPIRE_IN DATETIME)

BEGIN
    DECLARE _CODE INT DEFAULT 0;
    DECLARE _EXPIRE_IN DATETIME;
    DECLARE SECCONDS INT;
    
    CALL GET_INTERVAL_SECCONDS_TO_CODE(@SECCONDS);
    SELECT @SECCONDS INTO SECCONDS;

    WHILE _CODE < 100000 OR _CODE > 999999 DO
        SELECT 
            FLOOR(
                RAND() * 1000000
            ),
            DATE_ADD(
                CURRENT_TIMESTAMP,
                INTERVAL SECCONDS SECOND
            )

            INTO _CODE, _EXPIRE_IN;
    END WHILE;

    SET CODE = _CODE;
    SET EXPIRE_IN = _EXPIRE_IN;
END;

CREATE PROCEDURE CHANGE_EXPIRE_CODES ()

BEGIN 
    DECLARE DONE INT DEFAULT FALSE;
    DECLARE CODEIDS CURSOR 
        FOR SELECT C.CODEID
            FROM CODE AS C
            WHERE C.EXPIRE_IN <= CURRENT_TIMESTAMP;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET DONE = TRUE;

    OPEN CODEIDS;

    REMOVE_LOOP: LOOP
        IF DONE THEN LEAVE REMOVE_LOOP; END IF;

        BEGIN
            DECLARE CODEID BIGINT;
            FETCH CODEIDS INTO CODEID;

            CALL GET_CODE_AND_EXPIRETIME_TO_TABLE_CODE(@CODE, @EXPIREIN);
            UPDATE CODE C
                SET C.CODE = (SELECT @CODE),
                    C.EXPIRE_IN = (SELECT @EXPIREIN)
            WHERE C.CODEID = CODEID;
        END;
    END LOOP;

    CLOSE CODEIDS;
END;

$$ DELIMITER ;

# END PROCEDURES

# TRIGGER 

DELIMITER //

CREATE TRIGGER SET_CODE_AND_EXPIRETIME BEFORE INSERT ON CODE FOR EACH ROW

BEGIN 
	CALL GET_CODE_AND_EXPIRETIME_TO_TABLE_CODE(@CODE, @EXPIREIN);
    
    SET NEW.CODE = (SELECT @CODE);
    SET NEW.EXPIRE_IN = (SELECT @EXPIREIN);
END;

// DELIMITER ;

# END TRIGGER

CREATE EVENT CHANGE_EXPIRECODES ON SCHEDULE EVERY 4 MINUTE DO CALL CHANGE_EXPIRE_CODES();

# SEED

INSERT INTO `DATABASE_PARAMETERS` (`PARAMETERNAME`, `PARAMETERVALUE`) VALUES ('CODE_TABLE_INTERVAL_EXPIRE', '120');
INSERT INTO `ENTERPRISE` (`NAME`) VALUES ('ADMIN');
INSERT INTO `PERSON` (`NAME`, `CALLNAME`, `PERSONTYPE`,`CREATEDATE`, `ENTERPRISEID`) VALUES ('AMVX', 'AMVX ENTERPRISE DEVELOPMENT SOFTWARE', 2, DATE('2022-12-15'), 1);
INSERT INTO `PERSON` (`NAME`, `PERSONTYPE`,`CREATEDATE`, `ENTERPRISEID`) VALUES ('JOÃƒO VICTOR PALMEIRA DA SILVA FERREIRA', 1, DATE('1997-06-10'), 1);
INSERT INTO `ENTERPRISEXPERSON` (`ENTERPRISEID`, `PERSONID`) VALUES (1, 1);
INSERT INTO `PERSONCONTACT` (`CONTACTTYPE`, `PERSONID`, `VALUE`) VALUES (2, 2, 'victorpsf2@hotmail.com');
INSERT INTO `CREDENTIAL` (`PERSONID`) VALUES (2);
INSERT INTO `PERMISSION` (`PERMISSIONNAME`) VALUES ('ACCESSACCOUNTPERMISSION'), ('CREATEACCOUNTPERMISSION'), ('UPDATEACCOUNTPERMISSION'), ('REMOVEACCOUNTPERMISSION'), ('ACCESSPERSONJURIDICAL'), ('CREATEPERSONJURIDICAL'), ('UPDATEPERSONJURIDICAL'), ('REMOVEPERSONJURIDICAL'), ('ACCESSPERSONPHYSICAL'), ('CREATEPERSONPHYSICAL'), ('UPDATEPERSONPHYSICAL'), ('REMOVEPERSONPHYSICAL'), ('ACCESSCLIENT'), ('CREATECLIENT'), ('UPDATECLIENT'), ('REMOVECLIENT'), ('ACCESSEMPLOYEE'), ('CREATEEMPLOYEE'), ('UPDATEEMPLOYEE'), ('REMOVEEMPLOYEE'), ('ACCESSENTERPRISE'), ('CREATEENTERPRISE'), ('UPDATEENTERPRISE'), ('REMOVEENTERPRISE'), ('ACCESSDOCUMENT'), ('CREATEDOCUMENT'), ('UPDATEDOCUMENT'), ('REMOVEDOCUMENT'), ('ACCESSCONTACT'), ('CREATECONTACT'), ('UPDATECONTACT'), ('REMOVECONTACT'), ('ACCESSADDRESS'), ('CREATEADDRESS'), ('UPDATEADDRESS'), ('REMOVEADDRESS');
INSERT INTO `AUTH` (`NAME`, `PASSPHRASE`, `CREDENTIALID`) VALUES ('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', 1);
INSERT INTO `PAPER` (`NAME`) VALUES ('ADMIN');
INSERT INTO `AUTHXENTERPRISE` (`AUTHID`, `ENTERPRISEID`) VALUES (1, 1);
INSERT INTO `PAPERXPERMISSION` (`PAPERID`, `PERMISSIONID`) VALUES (1, 1),(1, 2),(1, 3),(1, 4),(1, 5),(1, 6),(1, 7),(1, 8),(1, 9),(1, 10),(1, 11),(1, 12),(1, 13),(1, 14),(1, 15),(1, 16),(1, 17),(1, 18),(1, 19),(1, 20),(1, 21),(1, 22),(1, 23),(1, 24),(1, 25),(1, 26),(1, 27),(1, 28),(1, 29),(1, 30),(1, 31),(1, 32),(1, 33),(1, 34),(1, 35),(1, 36);
INSERT INTO `AUTHXPAPER` (`AUTHID`, `PAPERID`) VALUES (1, 1);

# END SEED;

SELECT * FROM CODE;