-- MySQL dump 10.13  Distrib 8.0.36, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: ERP_OPTICA
-- ------------------------------------------------------
-- Server version	8.3.0

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `AUTH`
--

DROP TABLE IF EXISTS `AUTH`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `AUTH` (
  `AUTHID` int NOT NULL AUTO_INCREMENT,
  `NAME` text NOT NULL,
  `PASSPHRASE` text NOT NULL,
  `CREDENTIALID` int NOT NULL,
  `DELETED_AT` datetime DEFAULT NULL,
  `VERSION` int DEFAULT '0',
  PRIMARY KEY (`AUTHID`),
  KEY `CREDENTIALID` (`CREDENTIALID`),
  CONSTRAINT `AUTH_ibfk_1` FOREIGN KEY (`CREDENTIALID`) REFERENCES `CREDENTIAL` (`CREDENTIALID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `AUTH`
--

LOCK TABLES `AUTH` WRITE;
/*!40000 ALTER TABLE `AUTH` DISABLE KEYS */;
INSERT INTO `AUTH` VALUES (1,'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',1,NULL,0);
/*!40000 ALTER TABLE `AUTH` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `AUTHXENTERPRISE`
--

DROP TABLE IF EXISTS `AUTHXENTERPRISE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `AUTHXENTERPRISE` (
  `AUTHID` int NOT NULL,
  `ENTERPRISEID` int NOT NULL,
  `DELETED_AT` datetime DEFAULT NULL,
  KEY `AUTHID` (`AUTHID`),
  KEY `ENTERPRISEID` (`ENTERPRISEID`),
  CONSTRAINT `AUTHXENTERPRISE_ibfk_1` FOREIGN KEY (`AUTHID`) REFERENCES `AUTH` (`AUTHID`),
  CONSTRAINT `AUTHXENTERPRISE_ibfk_2` FOREIGN KEY (`ENTERPRISEID`) REFERENCES `ENTERPRISE` (`ENTERPRISEID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `AUTHXENTERPRISE`
--

LOCK TABLES `AUTHXENTERPRISE` WRITE;
/*!40000 ALTER TABLE `AUTHXENTERPRISE` DISABLE KEYS */;
INSERT INTO `AUTHXENTERPRISE` VALUES (1,1,NULL);
/*!40000 ALTER TABLE `AUTHXENTERPRISE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `AUTHXPAPER`
--

DROP TABLE IF EXISTS `AUTHXPAPER`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `AUTHXPAPER` (
  `AUTHID` int NOT NULL,
  `PAPERID` int NOT NULL,
  `DELETED_AT` datetime DEFAULT NULL,
  KEY `AUTHID` (`AUTHID`),
  KEY `PAPERID` (`PAPERID`),
  CONSTRAINT `AUTHXPAPER_ibfk_1` FOREIGN KEY (`AUTHID`) REFERENCES `AUTH` (`AUTHID`),
  CONSTRAINT `AUTHXPAPER_ibfk_2` FOREIGN KEY (`PAPERID`) REFERENCES `PAPER` (`PAPERID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `AUTHXPAPER`
--

LOCK TABLES `AUTHXPAPER` WRITE;
/*!40000 ALTER TABLE `AUTHXPAPER` DISABLE KEYS */;
INSERT INTO `AUTHXPAPER` VALUES (1,1,NULL);
/*!40000 ALTER TABLE `AUTHXPAPER` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CODE`
--

DROP TABLE IF EXISTS `CODE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `CODE` (
  `AUTHID` int NOT NULL,
  `CODE` varchar(6) DEFAULT NULL,
  `CODETYPE` int NOT NULL,
  `EXPIRE_IN` datetime DEFAULT NULL,
  PRIMARY KEY (`AUTHID`),
  CONSTRAINT `CODE_ibfk_1` FOREIGN KEY (`AUTHID`) REFERENCES `AUTH` (`AUTHID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CODE`
--

LOCK TABLES `CODE` WRITE;
/*!40000 ALTER TABLE `CODE` DISABLE KEYS */;
/*!40000 ALTER TABLE `CODE` ENABLE KEYS */;
UNLOCK TABLES;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
/*!50003 CREATE*/ /*!50017 DEFINER=`root`@`%`*/ /*!50003 TRIGGER `SET_CODE_AND_EXPIRETIME` BEFORE INSERT ON `CODE` FOR EACH ROW BEGIN 
	CALL GET_CODE_AND_EXPIRETIME_TO_TABLE_CODE(@CODE, @EXPIREIN);
    
    SET NEW.CODE = (SELECT @CODE);
    SET NEW.EXPIRE_IN = (SELECT @EXPIREIN);
END */;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Table structure for table `CONTROL`
--

DROP TABLE IF EXISTS `CONTROL`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `CONTROL` (
  `DMLTYPEID` int NOT NULL,
  `ENTITYTYPEID` int NOT NULL,
  `ENTITYID` int NOT NULL,
  `USERID` int NOT NULL,
  `CONTROLDATE` datetime DEFAULT CURRENT_TIMESTAMP,
  `ENTERPRISEID` int NOT NULL,
  KEY `USERID` (`USERID`),
  KEY `ENTERPRISEID` (`ENTERPRISEID`),
  CONSTRAINT `CONTROL_ibfk_1` FOREIGN KEY (`USERID`) REFERENCES `AUTH` (`AUTHID`),
  CONSTRAINT `CONTROL_ibfk_2` FOREIGN KEY (`ENTERPRISEID`) REFERENCES `ENTERPRISE` (`ENTERPRISEID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CONTROL`
--

LOCK TABLES `CONTROL` WRITE;
/*!40000 ALTER TABLE `CONTROL` DISABLE KEYS */;
/*!40000 ALTER TABLE `CONTROL` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `CREDENTIAL`
--

DROP TABLE IF EXISTS `CREDENTIAL`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `CREDENTIAL` (
  `CREDENTIALID` int NOT NULL AUTO_INCREMENT,
  `PERSONID` bigint NOT NULL,
  `DELETED_AT` datetime DEFAULT NULL,
  `FORCE_PASSWORD_CHANGE` tinyint DEFAULT '0',
  `VERSION` int DEFAULT '0',
  PRIMARY KEY (`CREDENTIALID`),
  KEY `PERSONID` (`PERSONID`),
  CONSTRAINT `CREDENTIAL_ibfk_1` FOREIGN KEY (`PERSONID`) REFERENCES `PERSON` (`PERSONID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `CREDENTIAL`
--

LOCK TABLES `CREDENTIAL` WRITE;
/*!40000 ALTER TABLE `CREDENTIAL` DISABLE KEYS */;
INSERT INTO `CREDENTIAL` VALUES (1,2,NULL,0,0);
/*!40000 ALTER TABLE `CREDENTIAL` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `DATABASE_PARAMETERS`
--

DROP TABLE IF EXISTS `DATABASE_PARAMETERS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `DATABASE_PARAMETERS` (
  `PARAMETERID` int NOT NULL AUTO_INCREMENT,
  `PARAMETERNAME` varchar(500) NOT NULL,
  `PARAMETERVALUE` text NOT NULL,
  `CREATED_AT` datetime DEFAULT CURRENT_TIMESTAMP,
  `UPDATED_AT` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`PARAMETERID`),
  UNIQUE KEY `PARAMETERNAME` (`PARAMETERNAME`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `DATABASE_PARAMETERS`
--

LOCK TABLES `DATABASE_PARAMETERS` WRITE;
/*!40000 ALTER TABLE `DATABASE_PARAMETERS` DISABLE KEYS */;
INSERT INTO `DATABASE_PARAMETERS` VALUES (1,'CODE_TABLE_INTERVAL_EXPIRE','120','2024-02-25 23:50:34','2024-02-25 23:50:34');
/*!40000 ALTER TABLE `DATABASE_PARAMETERS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ENTERPRISE`
--

DROP TABLE IF EXISTS `ENTERPRISE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ENTERPRISE` (
  `ENTERPRISEID` int NOT NULL AUTO_INCREMENT,
  `NAME` varchar(200) NOT NULL,
  `DELETED_AT` datetime DEFAULT NULL,
  `VERSION` int DEFAULT '0',
  PRIMARY KEY (`ENTERPRISEID`),
  UNIQUE KEY `NAME` (`NAME`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ENTERPRISE`
--

LOCK TABLES `ENTERPRISE` WRITE;
/*!40000 ALTER TABLE `ENTERPRISE` DISABLE KEYS */;
INSERT INTO `ENTERPRISE` VALUES (1,'AMVX',NULL,0);
/*!40000 ALTER TABLE `ENTERPRISE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ENTERPRISEXPERSON`
--

DROP TABLE IF EXISTS `ENTERPRISEXPERSON`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ENTERPRISEXPERSON` (
  `ENTERPRISEID` int NOT NULL,
  `PERSONID` bigint NOT NULL,
  KEY `ENTERPRISEID` (`ENTERPRISEID`),
  KEY `PERSONID` (`PERSONID`),
  CONSTRAINT `ENTERPRISEXPERSON_ibfk_1` FOREIGN KEY (`ENTERPRISEID`) REFERENCES `ENTERPRISE` (`ENTERPRISEID`),
  CONSTRAINT `ENTERPRISEXPERSON_ibfk_2` FOREIGN KEY (`PERSONID`) REFERENCES `PERSON` (`PERSONID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ENTERPRISEXPERSON`
--

LOCK TABLES `ENTERPRISEXPERSON` WRITE;
/*!40000 ALTER TABLE `ENTERPRISEXPERSON` DISABLE KEYS */;
INSERT INTO `ENTERPRISEXPERSON` VALUES (1,1);
/*!40000 ALTER TABLE `ENTERPRISEXPERSON` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PAGES`
--

DROP TABLE IF EXISTS `PAGES`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `PAGES` (
  `PAGEID` int NOT NULL AUTO_INCREMENT,
  `NAME` varchar(500) NOT NULL,
  `PATH` varchar(500) NOT NULL,
  `ICON` varchar(500) NOT NULL,
  `LOGGED` tinyint DEFAULT NULL,
  `INDEX` tinyint DEFAULT '0',
  PRIMARY KEY (`PAGEID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PAGES`
--

LOCK TABLES `PAGES` WRITE;
/*!40000 ALTER TABLE `PAGES` DISABLE KEYS */;
/*!40000 ALTER TABLE `PAGES` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PAPER`
--

DROP TABLE IF EXISTS `PAPER`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `PAPER` (
  `PAPERID` int NOT NULL AUTO_INCREMENT,
  `NAME` varchar(500) NOT NULL,
  `ACTIVATED` tinyint DEFAULT '0',
  `DELETED_AT` datetime DEFAULT NULL,
  `VERSION` int DEFAULT '0',
  PRIMARY KEY (`PAPERID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PAPER`
--

LOCK TABLES `PAPER` WRITE;
/*!40000 ALTER TABLE `PAPER` DISABLE KEYS */;
INSERT INTO `PAPER` VALUES (1,'ADMIN',1,NULL,0);
/*!40000 ALTER TABLE `PAPER` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PAPERXENTERPRISE`
--

DROP TABLE IF EXISTS `PAPERXENTERPRISE`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `PAPERXENTERPRISE` (
  `PAPERID` int NOT NULL,
  `ENTERPRISEID` int NOT NULL,
  `DELETED_AT` datetime DEFAULT NULL,
  KEY `ENTERPRISEID` (`ENTERPRISEID`),
  KEY `PAPERID` (`PAPERID`),
  CONSTRAINT `PAPERXENTERPRISE_ibfk_1` FOREIGN KEY (`ENTERPRISEID`) REFERENCES `ENTERPRISE` (`ENTERPRISEID`),
  CONSTRAINT `PAPERXENTERPRISE_ibfk_2` FOREIGN KEY (`PAPERID`) REFERENCES `PAPER` (`PAPERID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PAPERXENTERPRISE`
--

LOCK TABLES `PAPERXENTERPRISE` WRITE;
/*!40000 ALTER TABLE `PAPERXENTERPRISE` DISABLE KEYS */;
INSERT INTO `PAPERXENTERPRISE` VALUES (1,1,NULL);
/*!40000 ALTER TABLE `PAPERXENTERPRISE` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PAPERXPERMISSION`
--

DROP TABLE IF EXISTS `PAPERXPERMISSION`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `PAPERXPERMISSION` (
  `PAPERID` int NOT NULL,
  `PERMISSIONID` int NOT NULL,
  `DELETED_AT` datetime DEFAULT NULL,
  KEY `PERMISSIONID` (`PERMISSIONID`),
  KEY `PAPERID` (`PAPERID`),
  CONSTRAINT `PAPERXPERMISSION_ibfk_1` FOREIGN KEY (`PERMISSIONID`) REFERENCES `PERMISSION` (`PERMISSIONID`),
  CONSTRAINT `PAPERXPERMISSION_ibfk_2` FOREIGN KEY (`PAPERID`) REFERENCES `PAPER` (`PAPERID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PAPERXPERMISSION`
--

LOCK TABLES `PAPERXPERMISSION` WRITE;
/*!40000 ALTER TABLE `PAPERXPERMISSION` DISABLE KEYS */;
INSERT INTO `PAPERXPERMISSION` VALUES (1,1,NULL),(1,2,NULL),(1,3,NULL),(1,4,NULL),(1,5,NULL),(1,6,NULL),(1,7,NULL),(1,8,NULL),(1,9,NULL),(1,10,NULL),(1,11,NULL),(1,12,NULL),(1,13,NULL),(1,14,NULL),(1,15,NULL),(1,16,NULL),(1,17,NULL),(1,18,NULL),(1,19,NULL),(1,20,NULL),(1,21,NULL),(1,22,NULL),(1,23,NULL),(1,24,NULL),(1,25,NULL),(1,26,NULL),(1,27,NULL),(1,28,NULL),(1,29,NULL),(1,30,NULL),(1,31,NULL),(1,32,NULL),(1,33,NULL),(1,34,NULL),(1,35,NULL),(1,36,NULL);
/*!40000 ALTER TABLE `PAPERXPERMISSION` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PERMISSION`
--

DROP TABLE IF EXISTS `PERMISSION`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `PERMISSION` (
  `PERMISSIONID` int NOT NULL AUTO_INCREMENT,
  `PERMISSIONNAME` varchar(500) NOT NULL,
  `DELETED_AT` datetime DEFAULT NULL,
  `VERSION` int DEFAULT '0',
  PRIMARY KEY (`PERMISSIONID`),
  UNIQUE KEY `PERMISSIONNAME` (`PERMISSIONNAME`)
) ENGINE=InnoDB AUTO_INCREMENT=37 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PERMISSION`
--

LOCK TABLES `PERMISSION` WRITE;
/*!40000 ALTER TABLE `PERMISSION` DISABLE KEYS */;
INSERT INTO `PERMISSION` VALUES (1,'ACCESSACCOUNTPERMISSION',NULL,0),(2,'CREATEACCOUNTPERMISSION',NULL,0),(3,'UPDATEACCOUNTPERMISSION',NULL,0),(4,'REMOVEACCOUNTPERMISSION',NULL,0),(5,'ACCESSPERSONJURIDICAL',NULL,0),(6,'CREATEPERSONJURIDICAL',NULL,0),(7,'UPDATEPERSONJURIDICAL',NULL,0),(8,'REMOVEPERSONJURIDICAL',NULL,0),(9,'ACCESSPERSONPHYSICAL',NULL,0),(10,'CREATEPERSONPHYSICAL',NULL,0),(11,'UPDATEPERSONPHYSICAL',NULL,0),(12,'REMOVEPERSONPHYSICAL',NULL,0),(13,'ACCESSCLIENT',NULL,0),(14,'CREATECLIENT',NULL,0),(15,'UPDATECLIENT',NULL,0),(16,'REMOVECLIENT',NULL,0),(17,'ACCESSEMPLOYEE',NULL,0),(18,'CREATEEMPLOYEE',NULL,0),(19,'UPDATEEMPLOYEE',NULL,0),(20,'REMOVEEMPLOYEE',NULL,0),(21,'ACCESSENTERPRISE',NULL,0),(22,'CREATEENTERPRISE',NULL,0),(23,'UPDATEENTERPRISE',NULL,0),(24,'REMOVEENTERPRISE',NULL,0),(25,'ACCESSDOCUMENT',NULL,0),(26,'CREATEDOCUMENT',NULL,0),(27,'UPDATEDOCUMENT',NULL,0),(28,'REMOVEDOCUMENT',NULL,0),(29,'ACCESSCONTACT',NULL,0),(30,'CREATECONTACT',NULL,0),(31,'UPDATECONTACT',NULL,0),(32,'REMOVECONTACT',NULL,0),(33,'ACCESSADDRESS',NULL,0),(34,'CREATEADDRESS',NULL,0),(35,'UPDATEADDRESS',NULL,0),(36,'REMOVEADDRESS',NULL,0);
/*!40000 ALTER TABLE `PERMISSION` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PERSON`
--

DROP TABLE IF EXISTS `PERSON`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `PERSON` (
  `PERSONID` bigint NOT NULL AUTO_INCREMENT,
  `NAME` varchar(500) NOT NULL,
  `PERSONTYPE` int NOT NULL,
  `CALLNAME` varchar(500) DEFAULT NULL,
  `CREATEDATE` datetime DEFAULT NULL,
  `DELETED_AT` datetime DEFAULT NULL,
  `ENTERPRISEID` int NOT NULL,
  `VERSION` int DEFAULT '0',
  PRIMARY KEY (`PERSONID`),
  KEY `ENTERPRISEID` (`ENTERPRISEID`),
  CONSTRAINT `PERSON_ibfk_1` FOREIGN KEY (`ENTERPRISEID`) REFERENCES `ENTERPRISE` (`ENTERPRISEID`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PERSON`
--

LOCK TABLES `PERSON` WRITE;
/*!40000 ALTER TABLE `PERSON` DISABLE KEYS */;
INSERT INTO `PERSON` VALUES (1,'AMVX',2,'AMVX ENTERPRISE DEVELOPMENT SOFTWARE','2022-12-15 00:00:00',NULL,1,0),(2,'JOÃO VICTOR PALMEIRA DA SILVA FERREIRA',1,NULL,'1997-06-10 00:00:00',NULL,1,0);
/*!40000 ALTER TABLE `PERSON` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PERSONADDRESS`
--

DROP TABLE IF EXISTS `PERSONADDRESS`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `PERSONADDRESS` (
  `ADDRESSID` int NOT NULL AUTO_INCREMENT,
  `ADDRESSTYPE` int NOT NULL,
  `PERSONID` bigint NOT NULL,
  `VALUE` text NOT NULL,
  `VERSION` int DEFAULT '0',
  PRIMARY KEY (`ADDRESSID`),
  KEY `PERSONID` (`PERSONID`),
  CONSTRAINT `PERSONADDRESS_ibfk_1` FOREIGN KEY (`PERSONID`) REFERENCES `PERSON` (`PERSONID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PERSONADDRESS`
--

LOCK TABLES `PERSONADDRESS` WRITE;
/*!40000 ALTER TABLE `PERSONADDRESS` DISABLE KEYS */;
/*!40000 ALTER TABLE `PERSONADDRESS` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PERSONCONTACT`
--

DROP TABLE IF EXISTS `PERSONCONTACT`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `PERSONCONTACT` (
  `CONTACTID` int NOT NULL AUTO_INCREMENT,
  `CONTACTTYPE` int NOT NULL,
  `PERSONID` bigint NOT NULL,
  `VALUE` text NOT NULL,
  `VERSION` int DEFAULT '0',
  PRIMARY KEY (`CONTACTID`),
  KEY `PERSONID` (`PERSONID`),
  CONSTRAINT `PERSONCONTACT_ibfk_1` FOREIGN KEY (`PERSONID`) REFERENCES `PERSON` (`PERSONID`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PERSONCONTACT`
--

LOCK TABLES `PERSONCONTACT` WRITE;
/*!40000 ALTER TABLE `PERSONCONTACT` DISABLE KEYS */;
INSERT INTO `PERSONCONTACT` VALUES (1,2,1,'victorpsf2@gmail.com',0),(2,2,2,'victorpsf2@hotmail.com',0);
/*!40000 ALTER TABLE `PERSONCONTACT` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `PERSONDOCUMENT`
--

DROP TABLE IF EXISTS `PERSONDOCUMENT`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `PERSONDOCUMENT` (
  `DOCUMENTID` int NOT NULL AUTO_INCREMENT,
  `DOCUMENTTYPE` int NOT NULL,
  `PERSONID` bigint NOT NULL,
  `VALUE` text NOT NULL,
  `VERSION` int DEFAULT '0',
  PRIMARY KEY (`DOCUMENTID`),
  KEY `PERSONID` (`PERSONID`),
  CONSTRAINT `PERSONDOCUMENT_ibfk_1` FOREIGN KEY (`PERSONID`) REFERENCES `PERSON` (`PERSONID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `PERSONDOCUMENT`
--

LOCK TABLES `PERSONDOCUMENT` WRITE;
/*!40000 ALTER TABLE `PERSONDOCUMENT` DISABLE KEYS */;
/*!40000 ALTER TABLE `PERSONDOCUMENT` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Temporary view structure for view `VW_ENUM$CODE_TYPE`
--

DROP TABLE IF EXISTS `VW_ENUM$CODE_TYPE`;
/*!50001 DROP VIEW IF EXISTS `VW_ENUM$CODE_TYPE`*/;
SET @saved_cs_client     = @@character_set_client;
/*!50503 SET character_set_client = utf8mb4 */;
/*!50001 CREATE VIEW `VW_ENUM$CODE_TYPE` AS SELECT 
 1 AS `CODETYPE`,
 1 AS `NAME`*/;
SET character_set_client = @saved_cs_client;

--
-- Temporary view structure for view `VW_ENUM$DOCUMENT_TYPE`
--

DROP TABLE IF EXISTS `VW_ENUM$DOCUMENT_TYPE`;
/*!50001 DROP VIEW IF EXISTS `VW_ENUM$DOCUMENT_TYPE`*/;
SET @saved_cs_client     = @@character_set_client;
/*!50503 SET character_set_client = utf8mb4 */;
/*!50001 CREATE VIEW `VW_ENUM$DOCUMENT_TYPE` AS SELECT 
 1 AS `DOCUMENTTYPE`,
 1 AS `NAME`*/;
SET character_set_client = @saved_cs_client;

--
-- Dumping events for database 'ERP_OPTICA'
--
/*!50106 SET @save_time_zone= @@TIME_ZONE */ ;
/*!50106 DROP EVENT IF EXISTS `CHANGE_EXPIRECODES` */;
DELIMITER ;;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;;
/*!50003 SET character_set_client  = utf8mb4 */ ;;
/*!50003 SET character_set_results = utf8mb4 */ ;;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;;
/*!50003 SET @saved_time_zone      = @@time_zone */ ;;
/*!50003 SET time_zone             = 'SYSTEM' */ ;;
/*!50106 CREATE*/ /*!50117 DEFINER=`root`@`%`*/ /*!50106 EVENT `CHANGE_EXPIRECODES` ON SCHEDULE EVERY 1 MINUTE STARTS '2024-02-26 00:12:34' ON COMPLETION NOT PRESERVE ENABLE DO CALL CHANGE_EXPIRE_CODES() */ ;;
/*!50003 SET time_zone             = @saved_time_zone */ ;;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;;
/*!50003 SET character_set_client  = @saved_cs_client */ ;;
/*!50003 SET character_set_results = @saved_cs_results */ ;;
/*!50003 SET collation_connection  = @saved_col_connection */ ;;
DELIMITER ;
/*!50106 SET TIME_ZONE= @save_time_zone */ ;

--
-- Dumping routines for database 'ERP_OPTICA'
--
/*!50003 DROP PROCEDURE IF EXISTS `CHANGE_EXPIRE_CODES` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `CHANGE_EXPIRE_CODES`()
BEGIN 
    DECLARE DONE INT DEFAULT FALSE;
    DECLARE AUTHIDS CURSOR 
        FOR SELECT C.AUTHID
            FROM CODE AS C
            WHERE C.EXPIRE_IN <= CURRENT_TIMESTAMP;
    DECLARE CONTINUE HANDLER FOR NOT FOUND SET DONE = TRUE;

    OPEN AUTHIDS;

    REMOVE_LOOP: LOOP
        IF DONE THEN LEAVE REMOVE_LOOP; END IF;

        BEGIN
            DECLARE AUTHID BIGINT;
            FETCH AUTHIDS INTO AUTHID;

            CALL GET_CODE_AND_EXPIRETIME_TO_TABLE_CODE(@CODE, @EXPIREIN);
            UPDATE CODE C
                SET C.CODE = (SELECT @CODE),
                    C.EXPIRE_IN = (SELECT @EXPIREIN)
            WHERE C.AUTHID = AUTHID;
        END;
    END LOOP;

    CLOSE AUTHIDS;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `GET_CODE_AND_EXPIRETIME_TO_TABLE_CODE` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `GET_CODE_AND_EXPIRETIME_TO_TABLE_CODE`(OUT CODE INT, OUT EXPIRE_IN DATETIME)
BEGIN
    DECLARE _CODE INT DEFAULT 0;
    DECLARE _EXPIRE_IN DATETIME;
    DECLARE SECCONDS INT;
    
    CALL GET_INTERVAL_SECCONDS_TO_CODE(@SECCONDS);
    SELECT @SECCONDS INTO SECCONDS;

    WHILE _CODE < 100000 OR _CODE > 999999 DO
        SELECT 
            FLOOR(
                RAND() * 1000000
            ),
            DATE_ADD(
                CURRENT_TIMESTAMP,
                INTERVAL SECCONDS SECOND
            )

            INTO _CODE, _EXPIRE_IN;
    END WHILE;

    SET CODE = _CODE;
    SET EXPIRE_IN = _EXPIRE_IN;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;
/*!50003 DROP PROCEDURE IF EXISTS `GET_INTERVAL_SECCONDS_TO_CODE` */;
/*!50003 SET @saved_cs_client      = @@character_set_client */ ;
/*!50003 SET @saved_cs_results     = @@character_set_results */ ;
/*!50003 SET @saved_col_connection = @@collation_connection */ ;
/*!50003 SET character_set_client  = utf8mb4 */ ;
/*!50003 SET character_set_results = utf8mb4 */ ;
/*!50003 SET collation_connection  = utf8mb4_0900_ai_ci */ ;
/*!50003 SET @saved_sql_mode       = @@sql_mode */ ;
/*!50003 SET sql_mode              = 'ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION' */ ;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `GET_INTERVAL_SECCONDS_TO_CODE`(OUT SECCONDS INT)
BEGIN
	DECLARE _SECCONDS INT;

	SELECT CAST(DBP.PARAMETERVALUE AS UNSIGNED INT) INTO _SECCONDS
    FROM DATABASE_PARAMETERS DBP
    WHERE DBP.PARAMETERNAME = 'CODE_TABLE_INTERVAL_EXPIRE' LIMIT 1;
    
	SET SECCONDS = _SECCONDS;
END ;;
DELIMITER ;
/*!50003 SET sql_mode              = @saved_sql_mode */ ;
/*!50003 SET character_set_client  = @saved_cs_client */ ;
/*!50003 SET character_set_results = @saved_cs_results */ ;
/*!50003 SET collation_connection  = @saved_col_connection */ ;

--
-- Final view structure for view `VW_ENUM$CODE_TYPE`
--

/*!50001 DROP VIEW IF EXISTS `VW_ENUM$CODE_TYPE`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8mb4 */;
/*!50001 SET character_set_results     = utf8mb4 */;
/*!50001 SET collation_connection      = utf8mb4_0900_ai_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`%` SQL SECURITY DEFINER */
/*!50001 VIEW `VW_ENUM$CODE_TYPE` AS select 1 AS `CODETYPE`,'Authenticação' AS `NAME` union select 2 AS `CODETYPE`,'Esqueçi minha senha' AS `NAME` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;

--
-- Final view structure for view `VW_ENUM$DOCUMENT_TYPE`
--

/*!50001 DROP VIEW IF EXISTS `VW_ENUM$DOCUMENT_TYPE`*/;
/*!50001 SET @saved_cs_client          = @@character_set_client */;
/*!50001 SET @saved_cs_results         = @@character_set_results */;
/*!50001 SET @saved_col_connection     = @@collation_connection */;
/*!50001 SET character_set_client      = utf8mb4 */;
/*!50001 SET character_set_results     = utf8mb4 */;
/*!50001 SET collation_connection      = utf8mb4_0900_ai_ci */;
/*!50001 CREATE ALGORITHM=UNDEFINED */
/*!50013 DEFINER=`root`@`%` SQL SECURITY DEFINER */
/*!50001 VIEW `VW_ENUM$DOCUMENT_TYPE` AS select 1 AS `DOCUMENTTYPE`,'CPF' AS `NAME` union select 2 AS `DOCUMENTTYPE`,'RG' AS `NAME` union select 3 AS `DOCUMENTTYPE`,'CNH' AS `NAME` union select 4 AS `DOCUMENTTYPE`,'PIS' AS `NAME` union select 5 AS `DOCUMENTTYPE`,'CTPS' AS `NAME` union select 6 AS `DOCUMENTTYPE`,'CNPJ' AS `NAME` union select 7 AS `DOCUMENTTYPE`,'MEI' AS `NAME` */;
/*!50001 SET character_set_client      = @saved_cs_client */;
/*!50001 SET character_set_results     = @saved_cs_results */;
/*!50001 SET collation_connection      = @saved_col_connection */;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2024-02-25 21:13:43
